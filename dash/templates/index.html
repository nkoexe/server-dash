<!DOCTYPE html>
<html>

<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="static/style.css">
  <link rel="icon" href="static/favicon.ico" type="image/x-icon">
</head>

<body>
  <div id="header">
    <h1 id="title">hello<span class="secondary">world.</span></h1>
    <button id="actions_button"><span class="secondary">quick</span>actions.</button>
  </div>

  <div id="actions_menu">
    <button id="exit_actions"></button>
    <div id="actions">
      <button onclick="call('restart-containers')"><span class="secondary">restart </span>containers</button>
      <button onclick="call('restart-networking')"><span class="secondary">restart </span>networking</button>
      <button onclick="call('reboot')"><span class="secondary">system </span>reboot</button>
      <button onclick="call('shutdown')"><span class="secondary">system </span>shutdown</button>
    </div>
  </div>


  <div id="main_container">
    {% if urls %}
    <div id="status_container" class="container">
      {% for url in urls %}
      <a class="status" data-url="{{url}}" href="{{url}}" target="_blank">
        <div class="indicator loading"></div>
        {% set domain = url.split("//")[1] %}
        {% set parts = domain.split(".") %}
        {% set subdomain = parts[0] %}
        {% set rest = "." + ".".join(parts[1:]) %}
        <div>{{subdomain}}<span class="secondary">{{rest}}</span></div>
      </a>
      {% endfor %}
    </div>
    {% endif %}

    <div id="sysinfo" class="container">
      <div class="row">
        <div id="cpu" class="info container">
          <div class="data"><span id="cpu_usage"></span><span class="secondary">%</span></div>
          <div class="description">cpu<span class="secondary">usage</span></div>
          <canvas class="graph"></canvas>
        </div>
        <div id="mem" class="info container wide">
          <div class="data"><span id="memory_usage"></span><span class="secondary">/<span id="memory_total"></span>GB</span></div>
          <div class="description">memory<span class="secondary">usage</span></div>
          <canvas class="graph"></canvas>
        </div>
      </div>
      <div class="row">
        <div id="disk" class="info container wide">
          <div class="data"><span id="disk_usage"></span><span class="secondary">/<span id="disk_total"></span>GB</span></div>
          <div class="description">disk<span class="secondary">usage</span></div>
          <canvas class="graph"></canvas>
        </div>
        <div id="pwr" class="info container">
          <div class="data"><span id="power_draw"></span><span class="secondary">W</span></div>
          <div class="description">power<span class="secondary">draw</span></div>
          <canvas class="graph"></canvas>
        </div>
      </div>
    </div>

    <script src="static/script.js" async></script>
</body>

</html>